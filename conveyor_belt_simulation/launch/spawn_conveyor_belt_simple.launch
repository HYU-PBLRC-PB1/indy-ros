<?xml version="1.0" encoding="UTF-8"?>

<launch> 
	<arg name="verbose" default="true"/>
	<arg name="debug" default="false"/>

    <arg name = "x" default = "0.0" />
    <arg name = "y" default = "0.0" />
    <arg name = "z" default = "0.0" />
    
    <arg name = "model_file" default = "$(find conveyor_belt_simulation)/sdf/model.sdf" />
    <arg name = "model_name" default = "conveyor_belt" />
    
    <!-- <param name = "robot_description" command = "cat $(arg urdf_robot_file)" /> -->
    <param name = "robot_description" command = "$(find xacro)/xacro '$(find conveyor_belt_simulation)/urdf/conveyor_belt.xacro'" />


	<!-- startup simulated world -->
	<include file="$(find gazebo_ros)/launch/empty_world.launch">
		<arg name="verbose" value="$(arg verbose)"/>
      	<arg name="debug" value="$(arg debug)"/>
	</include>

    <!-- <node name = "sdf_spawner" pkg = "gazebo_ros" type = "spawn_model" respawn = "false" output = "screen" args = "-sdf -x $(arg x) -y $(arg y) -z $(arg z) -model $(arg model_name) -param model_file" /> -->

    <node name="sdf_spawner" pkg="gazebo_ros" type="spawn_model" respawn="false" output="screen" args="-sdf -model $(arg model_name) -file $(arg model_file) -x $(arg x) -y $(arg y) -z $(arg z)"/>

	<node pkg="robot_state_publisher" type="robot_state_publisher" name="state_publisher">		
		<param name="publish_frequency" type="double" value="50.0" />
		<param name="tf_prefix" type="string" value="" />
	</node>

	<node name = "joint_state_publisher" pkg = "joint_state_publisher" type = "joint_state_publisher">
        <!-- <param name = "use_gui" value = "TRUE"/> -->
    </node>

	<!-- <node name = "rviz" pkg = "rviz" type = "rviz" args = "-d $(find conveyor_belt_simulation)/config/rviz_config.rviz"/> -->
</launch>